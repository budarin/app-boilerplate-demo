import{n as e,r as t}from"./rolldown-runtime-BHJ7HXw7.js";import{i as n,n as r,r as i,t as a}from"./react-Cawi1mdu.js";import{a as o,c as s,i as c,l,n as u,o as d,r as f,s as p,t as m}from"./npm-By3JIi_E.js";(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var h=t(n(),1);function g(e){return e===`dark`||e===`light`}function _(e){return e&&g(e)?e:void 0}function v(e,t){return _(t)||e}l(`use-cases-api`),l(`use-cases-logger`);let y=l(`use-cases-browser`);l(`use-cases-cacheStore`);let b=l(`use-cases-localStorage`);function x({apiService:e,browserService:t,loggerService:n,localStoreService:r,cacheStoreService:i}){y=t,b=r}var S=l(`domain-store`);let C=S;function w(){C===S&&(C=s()(()=>({theme:`light`,isSynchronizing:!1})))}function T(e){let t=C.getState();C.setState({...t,theme:e})}function E(e){let t=e.matches?`dark`:`light`,n=_(b.getItem(`theme`))||t,r=n===`dark`?`dark light`:`light dark`,i=y.document.documentElement;i.style.colorScheme=r,i.setAttribute(`data-theme`,n),T(n)}function D(e){b.setItem(`currentDateTime`,e)}var ee=e({saveCurrentDateTime:()=>D,updateThemeOnColorSchemeChange:()=>E});let O=l(`ui-browser`);function k(e){O=e}let A=l(`ui-components-logger`);function te(e){A=e,p((e,t)=>{A.error(`Ошибка загрузки svg: ${t}`,e)})}let j=l(`ui-containers-core`);l(`ui-containers-logger`);function ne(e,t){j=t}l(`domain-store-logger`);function M(e){let{loggerService:t,browserService:n}=e;t.child({layer:`[ STORE ]`}),x({...e,loggerService:t.child({layer:`[ USE_CASES ]`})}),k(n),te(t.child({layer:`[ UI_COMPONENTS ]`})),ne(t.child({layer:`[ UI_CONTAINERS ]`}),ee)}const N=`undefinedapi`,P=`${N}/log`;let F=l(`api-service`);function I(e){return F=f(c(N),o),F}l(`logger-service`);let L=l(`logger-service`);function R(){return L=new u(P,o),L.setLevel(`info`),L}let z=l(`browser-service`);function B(e){return z=e,z}let V=l(`cache-store-service`);function H(e){return V=new m(`kv-store`),V}let U=l(`localStore-service`);function W(e,t){return U=e,U}function G(){let e=R(),t=B(window);return{apiService:I(e.child({layer:`[ API ]`})),loggerService:e,browserService:t,cacheStoreService:H(e.child({layer:`[ CACHE_STORE ]`})),localStoreService:W(t.localStorage,e.child({layer:`[ LOCAL_STORE ]`}))}}const K=()=>O.matchMedia(`(prefers-color-scheme: dark)`);function q(e){let t=v(e,b.getItem(`theme`)),n=t===`dark`?`dark light`:`light dark`;y.document.documentElement.style.colorScheme=n,T(t),y.document.documentElement.setAttribute(`data-theme`,t)}function J(){M(G()),w();let e=K();q(e.matches?`dark`:`light`),e.addEventListener(`change`,E),L.info(`🚀 Старт приложения!`)}var Y=t(r(),1);function X(e){return e.toLocaleDateString()+` `+e.toLocaleTimeString()}var re=t(a(),1),ie=``+new URL(`svgs/app-icon-DOIalovT.svg`,import.meta.url).href,ae=``+new URL(`svgs/react-Bockfxjy.svg`,import.meta.url).href,oe=``+new URL(`svgs/add24-ypwrqSQ0.svg`,import.meta.url).href,Z=t(i(),1);const se=e=>{let t=(0,re.c)(2),n;return t[0]===e?n=t[1]:(n=(0,Z.jsx)(d,{...e,size:24,url:oe}),t[0]=e,t[1]=n),n};var ce=t(a(),1);const le=e=>{let t=(0,ce.c)(6),n;t[0]===e?n=t[1]:({...n}=e,t[0]=e,t[1]=n);let[r,i]=(0,h.useState)(0),a;t[2]===Symbol.for(`react.memo_cache_sentinel`)?(a=()=>{i(ue)},t[2]=a):a=t[2];let o;return t[3]!==r||t[4]!==n?(o=(0,Z.jsxs)(`button`,{type:`button`,onClick:a,...n,children:[`count is `,r]}),t[3]=r,t[4]=n,t[5]=o):o=t[5],o};function ue(e){return e+1}var de=t(a(),1),fe=e=>{let t=(0,de.c)(13),{currentDateTime:n}=e,r;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(r=(0,Z.jsx)(`a`,{href:`https://vite.dev`,target:`_blank`,rel:`noreferrer noopener`,children:(0,Z.jsx)(d,{url:ie,className:`logo`,"aria-label":`Vite logo`})}),t[0]=r):r=t[0];let i,a;t[1]===Symbol.for(`react.memo_cache_sentinel`)?(i=(0,Z.jsxs)(`div`,{children:[r,(0,Z.jsx)(`a`,{href:`https://react.dev`,target:`_blank`,rel:`noreferrer noopener`,children:(0,Z.jsx)(d,{url:ae,className:`logo react`,"aria-label":`React logo`})})]}),a=(0,Z.jsx)(`h1`,{children:`Vite + React`}),t[1]=i,t[2]=a):(i=t[1],a=t[2]);let o;t[3]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,Z.jsx)(se,{style:{color:`red`}}),t[3]=o):o=t[3];let s;t[4]===n?s=t[5]:(s=(0,Z.jsxs)(`p`,{children:[`Render date and time: `,n]}),t[4]=n,t[5]=s);let c;t[6]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,Z.jsx)(le,{}),t[6]=c):c=t[6];let l;t[7]===Symbol.for(`react.memo_cache_sentinel`)?(l=(0,Z.jsxs)(`p`,{children:[`Edit `,(0,Z.jsx)(`code`,{children:`src/App.tsx`}),` and save to test HMR`]}),t[7]=l):l=t[7];let u;t[8]===s?u=t[9]:(u=(0,Z.jsxs)(`div`,{className:`card`,children:[o,s,c,l]}),t[8]=s,t[9]=u);let f;t[10]===Symbol.for(`react.memo_cache_sentinel`)?(f=(0,Z.jsx)(`p`,{className:`read-the-docs`,children:`Click on the Vite and React logos to learn more`}),t[10]=f):f=t[10];let p;return t[11]===u?p=t[12]:(p=(0,Z.jsxs)(Z.Fragment,{children:[i,a,u,f]}),t[11]=u,t[12]=p),p};function Q(e){return({onAfterRender:t})=>{let n=(0,h.useMemo)(()=>new window.Date,[]),r=X(n);return(0,h.useEffect)(()=>{t(),e(n.toISOString())},[n,t]),(0,Z.jsx)(fe,{currentDateTime:r})}}const pe=()=>Q(j.saveCurrentDateTime);var me=350,he={once:!0},ge=()=>O.document.getElementById(`splashScreenStyles`),$=()=>O.document.getElementById(`splashScreen`),_e=()=>{$()?.remove(),ge()?.remove()};const ve=async()=>{let e=O.document.getElementById(`root`),t=$();t&&e&&(await new O.Promise(e=>{O.setTimeout(()=>{e(!0)},me)}),await window.getReadyToStartPromise(),t.addEventListener(`transitionend`,_e,he),window.splashScreenCleanup(),t.classList.add(`hidden`),e.classList.add(`visible`))};J();var ye=pe(),be=z.document.getElementById(`root`),xe=h.Fragment;(0,Y.createRoot)(be).render((0,Z.jsx)(xe,{children:(0,Z.jsx)(ye,{onAfterRender:ve})}));