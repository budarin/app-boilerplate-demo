var e=`dark`,t=`light`,n=`__DARK_THEME_COLOR__`,r=`__LIGHT_THEME_COLOR__`,i=matchMedia(`(prefers-color-scheme: ${e})`).matches?e:t,a=1,o=.75,s=1.55,c=.05;function l(e,t){return Number(e.toFixed(2))}function u(e){return e>=o&&e<=s}function d(e){if(!u(e))return a;let t=l(e,c);return u(t)?t:a}function f(e){if(!e)return a;let t=Number.parseFloat(e);return Number.isNaN(t)?a:d(t)}function p(){let e=navigator.userAgent.toLowerCase();if(!/android\s([0-9\.]*)/.exec(e))return{os:``,osVersion:0};let t=localStorage.getItem(`android_version`);if(t){let e=Number.parseFloat(t);if(!Number.isNaN(e)&&e>0)return{os:`Android`,osVersion:e}}else `userAgentData`in navigator&&navigator.userAgentData.getHighEntropyValues&&navigator.userAgentData.getHighEntropyValues([`platformVersion`]).then(e=>{if(e.platformVersion){let t=Number.parseFloat(e.platformVersion);!Number.isNaN(t)&&t>0&&localStorage.setItem(`android_version`,String(t))}}).catch();return{os:`Android`,osVersion:0}}function m(i,a){if(![t,e].includes(a))return;let o=a===t;i.setAttribute(`data-theme`,a),document.querySelector(`meta[name="theme-color"]`)?.setAttribute(`content`,o?r:n);let s=document.createElement(`meta`);s.name=`theme-color`,s.content=o?r:n,document.head.appendChild(s);let c=document.createElement(`meta`);c.name=`color-scheme`,c.content=o?`${t} ${e}`:`${e} ${t}`,document.head.appendChild(c)}function h(){let e=document.documentElement,{os:t,osVersion:n}=p(),r=t===`Android`&&n<12;e.style.setProperty(`--icon-size`,`${r?180:240}px`);let a=f(localStorage.getItem(`zoom`));e.style.fontSize=`${a}rem`,window.setTimeout(()=>{delete window.userTheme},10),window.userTheme=localStorage.getItem(`theme`)||i,m(e,window.userTheme)}h();function g(){let e=document.createElement(`link`);if(e.rel=`manifest`,e.href=`manifest.${window.userTheme}.__MANIFEST_HASH__.webmanifest`,`ontouchstart`in window&&window.matchMedia(`(display-mode: standalone)`).matches){let e=!1;function t(){return screen.orientation&&screen.orientation.angle!==void 0?screen.orientation.angle:window.orientation||0}function n(){return`splash_screen_offsets_${t()}`}function r(){let e=localStorage.getItem(n());if(e)try{return JSON.parse(e)}catch{return null}return null}function i(e,t){localStorage.setItem(n(),JSON.stringify({top:e,left:t}))}function a(t){if(e)return;let{screenX:n,screenY:a,clientX:o,clientY:s}=t.touches?t.touches[0]:t,c=a-s,l=n-o;localStorage.setItem(`screen`,{screenX:n,screenY:a,clientX:o,clientY:s});let u=r();(!u||Math.abs(u.top-c)>1||Math.abs(u.left-l)>1)&&i(c,l),e=!0}function o(e,t){let{height:n,width:r}=window.screen,{innerHeight:i,innerWidth:a}=window,o=n/2-(e+i/2),s=r/2-(t+a/2),c=document.documentElement;c.style.setProperty(`--offset-x`,`${s.toFixed(2)}px`),c.style.setProperty(`--offset-y`,`${o.toFixed(2)}px`)}function s(){let e=r();e&&o(e.top,e.left)}function c(){e=!1}s(),document.addEventListener(`touchstart`,a,{passive:!0}),window.addEventListener(`orientationchange`,c,{passive:!0})}let t=document.currentScript;t&&t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)}g();