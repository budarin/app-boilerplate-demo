var e=`dark`,t=`light`,n=`__DARK_THEME_COLOR__`,r=`__LIGHT_THEME_COLOR__`,i=matchMedia(`(prefers-color-scheme: ${e})`).matches?e:t,a=1,o=.75,s=1.55,c=.05;function l(e,t){return Number(e.toFixed(2))}function u(e){return e>=o&&e<=s}function d(e){if(!u(e))return a;let t=l(e,c);return u(t)?t:a}function f(e){if(!e)return a;let t=Number.parseFloat(e);return Number.isNaN(t)?a:d(t)}function p(){let e=navigator.userAgent.toLowerCase();if(!/android\s([0-9\.]*)/.exec(e))return{os:``,osVersion:0};let t=localStorage.getItem(`android_version`);if(t){let e=Number.parseFloat(t);if(!Number.isNaN(e)&&e>0)return{os:`Android`,osVersion:e}}else `userAgentData`in navigator&&navigator.userAgentData.getHighEntropyValues&&navigator.userAgentData.getHighEntropyValues([`platformVersion`]).then(e=>{if(e.platformVersion){let t=Number.parseFloat(e.platformVersion);!Number.isNaN(t)&&t>0&&localStorage.setItem(`android_version`,String(t))}}).catch();return{os:`Android`,osVersion:0}}function m(i,a){if(![t,e].includes(a))return;let o=a===t;i.setAttribute(`data-theme`,a),document.querySelector(`meta[name="theme-color"]`)?.setAttribute(`content`,o?r:n);let s=document.createElement(`meta`);s.name=`theme-color`,s.content=o?r:n,document.head.appendChild(s);let c=document.createElement(`meta`);c.name=`color-scheme`,c.content=o?`${t} ${e}`:`${e} ${t}`,document.head.appendChild(c)}function h(){let e=document.documentElement,{os:t,osVersion:n}=p(),r=t===`Android`&&n<12;e.style.setProperty(`--icon-size`,`${r?180:240}px`);let a=f(localStorage.getItem(`zoom`));e.style.fontSize=`${a}rem`,window.setTimeout(()=>{delete window.userTheme},10),window.userTheme=localStorage.getItem(`theme`)||i,m(e,window.userTheme)}h();function g(){let e=document.createElement(`link`);e.rel=`manifest`,e.href=`manifest.${window.userTheme}.__MANIFEST_HASH__.webmanifest`;let t=!1;function n(){return screen.orientation&&screen.orientation.angle!==void 0?screen.orientation.angle:window.orientation||0}function r(){return`splash_screen_offsets_${n()}`}function i(){let e=localStorage.getItem(r());if(e)try{return JSON.parse(e)}catch{return null}return null}function a(e,t){localStorage.setItem(r(),JSON.stringify({top:e,left:t}))}function o(e){if(t)return;let{screenX:n,screenY:r,clientX:o,clientY:s}=e.touches?e.touches[0]:e,c=r-s,l=n-o,u=i();(!u||Math.abs(u.top-c)>1||Math.abs(u.left-l)>1)&&a(c,l),t=!0}function s(e,t){let{height:n,width:r}=window.screen,i=n/2-e,a=r/2-t,o=document.documentElement;o.style.setProperty(`--screen-center-top`,`${Math.round(i)}px`),o.style.setProperty(`--screen-center-left`,`${Math.round(a)}px`)}function c(){let e=i();e&&s(e.top,e.left)}function l(){t=!1}`ontouchstart`in window&&window.matchMedia(`(display-mode: standalone)`).matches&&(c(),document.addEventListener(`touchstart`,o,{passive:!0}),window.addEventListener(`orientationchange`,l,{passive:!0}));let u=document.currentScript;u&&u.parentNode&&u.parentNode.insertBefore(e,u.nextSibling)}g();